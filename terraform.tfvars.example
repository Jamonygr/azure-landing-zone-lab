# =============================================================================
# TERRAFORM.TFVARS.EXAMPLE
# Copy this to terraform.tfvars and update with your values
# =============================================================================

# -----------------------------------------------------------------------------
# General Configuration
# -----------------------------------------------------------------------------
subscription_id = "00000000-0000-0000-0000-000000000000" # REQUIRED - replace with your subscription
project        = "azlab"
environment    = "lab"
location       = "West Europe"
owner          = "Your-Name"
repository_url = "https://github.com/your-username/azure-landing-zone-lab"

# -----------------------------------------------------------------------------
# Authentication (MUST CHANGE THESE!)
# Use strong passwords with 12+ characters including uppercase, lowercase,
# numbers, and special characters.
# -----------------------------------------------------------------------------
admin_username     = "azureadmin"
admin_password     = "CHANGE-ME-Strong-P@ssw0rd!"
sql_admin_login    = "sqladmin"
sql_admin_password = "CHANGE-ME-Sql-P@ssw0rd!"
vpn_shared_key     = "CHANGE-ME-VpnSharedKey123!"

# -----------------------------------------------------------------------------
# Network Configuration (Defaults should work for most cases)
# -----------------------------------------------------------------------------

# Hub
hub_address_space          = ["10.0.0.0/16"]
hub_gateway_subnet_prefix  = "10.0.0.0/24"
hub_firewall_subnet_prefix = "10.0.1.0/24"
hub_mgmt_subnet_prefix     = "10.0.2.0/24"
vpn_client_address_pool    = "172.16.0.0/24"

# Identity
identity_address_space    = ["10.1.0.0/16"]
identity_dc_subnet_prefix = "10.1.1.0/24"
dc01_ip_address           = "10.1.1.4"
dc02_ip_address           = "10.1.1.5"

# Management
management_address_space         = ["10.2.0.0/16"]
management_jumpbox_subnet_prefix = "10.2.1.0/24"

# Shared Services
shared_address_space     = ["10.3.0.0/16"]
shared_app_subnet_prefix = "10.3.1.0/24"
shared_pe_subnet_prefix  = "10.3.2.0/24"

# Workload Prod
workload_prod_address_space      = ["10.10.0.0/16"]
workload_prod_web_subnet_prefix  = "10.10.1.0/24"
workload_prod_app_subnet_prefix  = "10.10.2.0/24"
workload_prod_data_subnet_prefix = "10.10.3.0/24"

# Workload Dev (disabled by default)
workload_dev_address_space      = ["10.11.0.0/16"]
workload_dev_web_subnet_prefix  = "10.11.1.0/24"
workload_dev_app_subnet_prefix  = "10.11.2.0/24"
workload_dev_data_subnet_prefix = "10.11.3.0/24"

# On-Premises (Simulated)
onprem_address_space         = ["10.100.0.0/16"]
onprem_gateway_subnet_prefix = "10.100.0.0/24"
onprem_servers_subnet_prefix = "10.100.1.0/24"
onprem_bgp_asn               = 65050

# -----------------------------------------------------------------------------
# Deployment Flags
# Toggle features on/off to control costs and complexity
# -----------------------------------------------------------------------------

# Core Infrastructure (most expensive components)
deploy_firewall    = true       # ~$300/month - Set false to save
firewall_sku_tier  = "Standard"
deploy_vpn_gateway = true       # ~$140/month - Required for P2S access
vpn_gateway_sku    = "VpnGw1"
enable_bgp         = false
hub_bgp_asn        = 65515

# Identity
deploy_secondary_dc = false     # ~$30/month savings if false

# Management
enable_jumpbox_public_ip = false  # Use VPN instead (more secure)
deploy_log_analytics     = true
log_retention_days       = 30     # 30 days = free tier
log_daily_quota_gb       = 1      # Limit ingestion

# Shared Services
deploy_keyvault = true
deploy_storage  = true
deploy_sql      = true           # ~$5/month (Basic tier)

# Workloads
deploy_workload_prod = true
deploy_workload_dev  = false     # Enable if you need dev environment

# On-Premises Simulation
deploy_onprem_simulation = true  # ~$140/month for VPN Gateway

# Network add-ons
deploy_nat_gateway                 = false  # Fixed outbound IP for web subnet
deploy_private_dns_zones           = false  # Private DNS for blob/Key Vault/SQL
deploy_application_security_groups = false  # ASGs for web/app/data tiers

# Observability
enable_vnet_flow_logs    = false   # Requires storage + Network Watcher
enable_traffic_analytics = false   # Requires flow logs + Log Analytics
create_network_watcher   = false   # Set true only if your subscription lacks it

# -----------------------------------------------------------------------------
# VM Configuration
# -----------------------------------------------------------------------------
vm_size              = "Standard_B2s"  # 2 vCPU, 4 GB RAM
sql_vm_size          = "Standard_B2s"  # Same for SQL VMs
enable_auto_shutdown = true            # Auto-shutdown at 7 PM

# -----------------------------------------------------------------------------
# Private Endpoints Configuration
# -----------------------------------------------------------------------------
deploy_private_endpoints = false  # Private Endpoints for Key Vault, Storage, SQL
                                  # Requires deploy_private_dns_zones = true

# -----------------------------------------------------------------------------
# Azure Policy Configuration  
# -----------------------------------------------------------------------------
deploy_azure_policy = false  # Enable Azure Policy governance assignments

# Policy allowed locations (where resources can be deployed)
# policy_allowed_locations = ["westeurope", "northeurope", "eastus", "eastus2"]

# Required tags for all resources
# policy_required_tags = {
#   "Environment" = ""
#   "Owner"       = ""
#   "Project"     = ""
# }

# -----------------------------------------------------------------------------
# Management Groups Configuration (CAF Hierarchy)
# -----------------------------------------------------------------------------
deploy_management_groups   = false          # Create CAF management group hierarchy
management_group_root_name = "Organization" # Root management group display name
management_group_root_id   = "org-root"     # Root management group ID (unique per tenant)

# -----------------------------------------------------------------------------
# Cost Management Configuration
# -----------------------------------------------------------------------------
deploy_cost_management = false  # Enable cost budgets and alerts
cost_budget_amount     = 1000   # Monthly budget in USD
# cost_alert_emails    = ["admin@example.com", "finance@example.com"]

# -----------------------------------------------------------------------------
# Regulatory Compliance Configuration
# -----------------------------------------------------------------------------
deploy_regulatory_compliance = false       # Deploy HIPAA/PCI-DSS to workload RGs
enable_hipaa_compliance      = false       # HIPAA HITRUST 9.2 policy initiative
enable_pci_dss_compliance    = false       # PCI-DSS 4.0 policy initiative
compliance_enforcement_mode  = "DoNotEnforce"  # "Default" to enforce, "DoNotEnforce" for audit
